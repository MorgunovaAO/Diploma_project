# 3.1 Тестирование функциональности

После обширной теории по тестированию веб-приложений мы наконец переходим к практике - тестированию сайта РИВ ГОШ.  

### Что нам известно о тестируемом продукте?  

Сайт РИВ ГОШ - это популярный Интернет-магазин парфюмерии и косметики. Вспоминая пройденную нами теорию (параграф 1.1), мы уже смело можем сказать, что РИВ ГОШ - это именно веб-приложение. Оно довольно объемное, со сложной логикой, содержит огромное количество страниц с различным видом контента. 

Мы прекрасно помним, что исчерпывающее тестирование недостижимо. Следовательно, предполагаем, что в таком сложном и активно развивающемся продукте, как сайт РИВ ГОШ, тестировщик, даже без доступа к требованиям, сможет найти дефекты. Мы ни в коем случае не пытаемся “бросить камень в огород” отдела тестирования РИВ ГОШ. Наоборот, наша цель - показать, что “нет предела совершенству”. На примере тестирования сайта РИВ ГОШ мы постараемся наглядно показать, что тестирование без доступа к требованиям тоже осуществимо и порой дает неплохие результаты.  

Поскольку сайт действительно объемен, в рамках нашего исследования мы проверим только некоторые его части. 

### С чего следует начать? 

Давайте определим, какой основной функционал существует в любом интернет-магазине и на какие моменты тестировщику стоит обратить особое внимание. 

Как правило, в любом интернет-магазине есть:  

* Карточки товаров 

* Форма регистрации 

* Личный кабинет пользователя 

* Корзина 

* Страница оформления заказа 

* Форма обратной связи 

В интернет-магазине РИВ ГОШ также присутствует перечисленный выше функционал. В ходе тестирования мы, в первую очередь, уделим внимание именно этим аспектам, так как с ними чаще всего сталкивается пользователь в процессе создания заказа в интернет-магазине. 

И начнем мы с функционального тестирования. 

Как мы говорили ранее (параграф 1.3), **функциональное тестирование** является одним из ключевых видов тестирования, задача которого – установить, соответствует ли фактическое поведение веб-приложения ожидаемому результату. То есть проведение функционального тестирования позволяет проверить способность системы в определенных условиях решать задачи, нужные пользователям. 

Поскольку у нас нет доступа к требованиям, то мы будем проводить тестирование *по методу черного ящика* (без доступа к коду). Попробуем осуществить тестирование как если бы мы были реальным пользователем, но с элементами исследовательского тестирования (то есть будем одновременно изучать продукт, проектировать тесты и выполнять их).

Приступая к тестированию, вспомним основные этапы ручного тестирования веб-приложений (параграф 1.4):  

1. Подготовка к тестированию: изучение и анализ предмета тестирования; 

2. Подготовка к тестированию: планирование тестирования; 

3. Исполнение тестирования. 

Изучение и анализ предмета тестирования отвечает на вопросы:  

    а. Какие функциональности предстоит протестировать?  

    б. Как эти функциональности работают?  

В ходе тестирования функциональности сайта РИВ ГОШ мы проверим:  

* Основные ссылки 

* Работу форм 

* Работу ключевых функций, необходимых пользователю для создания заказа (поиск, сортировку, фильтрацию, корзину, личный кабинет, оформление заказа, отмену заказа, форму оплаты банковской картой) 

* Файлы cookie 

Верстку (HTML/CSS) мы проверим позднее, при тестировании совместимости. В данный список стоило бы включить проверку базы данных, однако в условиях отсутствия требований и доступа к базе, мы исключим этот пункт.  

Текущий этап подготовки к тестированию предполагает тщательный анализ требований. Наше же исследование посвящено тестированию в условиях отсутствия требований. Поэтому давайте вспомним, как можно самостоятельно определить и сформулировать требования к продукту. В параграфе 1.5 мы рассматривали следующие варианты источников требований (помимо технического задания и спецификации):  

* Жизненный опыт 

* Здравый смысл 

* Общение 

* Устоявшиеся стандарты 

* Статистические данные 

* Авторитетное мнение 

Также для поиска требований можно использовать: 

* Список задач 

* Рекламу продукта 

* Чаты и email-переписку 

* Прототип, дизайн-макет 

* Комментарии к коду 

* Гайдлайны и стандарты разработки интерфейсов 

* Конкурентный анализ 

Наиболее эффективные техники сбора и выявления требований: 

* Интервью 

* Работа с фокусными группами 

* Анкетирование 

* Семинары и мозговой штурм 

* Наблюдение 

* Прототипирование 

* Анализ документов 

* Моделирование процессов и взаимодействий 

Что из перечисленного поможет в нашей ситуации протестировать сайт РИВ ГОШ? К сожалению, у нас нет доступа к макетам и коду, а также нет возможности уточнить информацию у команды разработки (программиста, аналитика, дизайнера и др.) и у руководителя проекта. Несмотря на это, безусловно, мы можем применить жизненный опыт, здравый смысл и устоявшиеся стандарты. Среди техник сбора и выявления требований нам может пригодиться “Моделирование процессов и взаимодействий” - опираясь на всё те же жизненный опыт, устоявшиеся стандарты и здравый смысл мы способны самостоятельно предположить, каким требованиям должна соответствовать та или иная функциональность интернет-магазина. Более того, мы проводим тестирование с точки зрения обычного пользователя. Современные стандарты работы сайта интернет-магазина и любого другого веб-приложения предполагают интуитивно понятный интерфейс. Следовательно, проводя наше тестирование в ознакомительных целях, нам не обязательно иметь за плечами богатый профессиональный опыт тестировщика - достаточно представить себя на месте покупателя, который решил посетить сайт интернет-магазина и приобрести интересующий товар.  

С первым этапом тестирования мы определились. Перейдем ко второму: **“Подготовка к тестированию: планирование тестирования”**.  

Для тестирования функциональности сайта РИВ ГОШ мы составим тестовую документацию, чтобы зафиксировать наши проверки. В текущем виде тестирования мы будем практиковать составление чек-листов, в следующих параграфах также будет практика составления тест-кейсов. На основе созданных чек-листов, в случае обнаружения дефектов, мы будем заводить баг-репорты. Для создания и хранения документации используем такой общедоступный инструмент как Google Таблицы (альтернатива Exel). Навыки работы с таблицами, определенно, пригодятся тестировщику, однако на большинстве крупных проектов используются системы управления тестированием (TMS), поэтому мы перенесем созданные чек-листы в бесплатную TMS Qase.io , чтобы познакомиться с ней. 

В нашем плане тестирования будут следующие чек-листы:  

1. Чек-лист проверки основных ссылок и переходов на Главной странице  

1. Чек-лист "Скачивание документов"  

1. Чек-лист для формы "Регистрация" 

1. Чек-лист для формы "Активировать карту" 

1. Чек-лист для формы "Вход в личный кабинет" 

1. Чек-лист “Поиск товара или бренда” 

1. Чек-лист “Сортировка и фильтрация” 

1. Чек-лист "Добавление товара в корзину" 

1. Чек-лист "Оформление заказа" 

1. Чек-лист “Форма оплаты банковской картой” 

1. Чек-лист "Отмена заказа" 

1. Чек-лист "Форма обратной связи" 

1. Чек-лист “Файлы cookie” 

Несомненно, перечисленные чек-листы не обладают достаточным покрытием для качественного тестирования функциональности всего сайта интернет-магазина РИВ ГОШ. Мы выбрали только основные проверки для наглядного примера того, что можно протестировать, не имея доступа к требованиям, и это далеко не весь перечень. Помним, то наша задача - практика тестирования без доступа к требованиям, поэтому мы вынуждены ограничить тестирование наиболее показательными на наш взгляд проверками.  

Как мы уже говорили ранее, третий этап “Исполнение тестирования” мы объединим с процессом создания документации - будем одновременно писать тесты и проходить их. 

После того, как мы создали план тестирования, можем приступать к написанию тестовой документации и собственно к тестированию. 

## 1. Чек-лист проверки основных ссылок и переходов на Главной странице 

Для составления чек-листа создаем файл в Google Таблицы (ссылка на документ: https://docs.google.com/spreadsheets/d/1hyf9V8nA4_uuPnHheJ80AD4tCQAZTpN0NNe3aypah5M/edit?usp=sharing ). Переименуем Лист 1 на “Чек-лист проверки основных ссылок и переходов” для удобства при дальнейшем взаимодействии с файлом (поскольку таких листов у нас будет несколько).  

Чек-лист (check list) — это недетализированный список проверок, который описывает что должно быть протестировано.  

В параграфе 2.1, говоря о чек-листах, мы проводили аналогию со списком покупок - что удобно объединять проверки в “отделы”: модули, разделы, экраны, функциональность и т.п. То есть для удобства мы будем объединять проверки в тест-сьюты (test-suit). 

Вспомним правила составления чек-листа: 

* Один пункт – одна проверка 

* Пункты всегда начинаются с существительного или глагола неопределенной формы 

* Соблюдать структуру 

* Опираться на требования 

* Давать пунктам чек-листа названия по форме, общей для всех членов команды 

* Формулировать пункт чек-листа следует в виде утверждения, ответом на которое будет “Да”/”Нет” 

Пункты 4 и 5 нам не пригодятся, а вот остальные правила мы обязательно учтем при создании чек-листов. 

Каждый чек-лист будет состоять из трех столбцов:

1. Проверка
2. Результат (untested, passed, failed, blocked, skipped)
3. Комментарий

В чек-листе проверки основных ссылок и переходов на Главной странице мы проверяем ссылки, чтобы убедиться, что все они активны и ведут пользователя на правильную страницу. На сайте не должно быть “битых” ссылок (которые никуда не ведут или показывают какую-либо ошибку).  

Стоит сразу отметить, что чек-листы, как и вся тестовая документация, должны быть, насколько это возможно, универсальными и легко поддерживаемыми. Согласитесь, не очень удобно, в случае изменения одной ссылки менять ее в каждом чек-листе (а если чек-листов с этой ссылкой не 2-3, а 20-30 и более?). Это значит, что не следует добавлять в текст проверки детали, которые, вероятнее всего, могут измениться со временем (например, ссылку на другой чек-лист, ссылки на страницы тестируемого продукта). Так мы и поступим: в проверках не будем указывать прямые ссылки на конкретные страницы, а заменим их ожидаем результатом (что должен увидеть пользователь после определенного действия).  

На Главной странице можем выделить следующие тест-сьюты: 
* Хедер
* Основной контент
* Футер

Хедер РИВ ГОШ и чек-лист для проверки ссылки в хедере:   

В ходе составления проверок сразу выставляем результат. С итоговым вариантом чек-листа можно ознакомиться в документе: https://docs.google.com/spreadsheets/d/1hyf9V8nA4_uuPnHheJ80AD4tCQAZTpN0NNe3aypah5M/edit?usp=sharing 
В Чек-листе "проверки основных ссылок и переходов на Главной странице" все проверки пройдены успешно. 

Теперь перейдем к чек-листу “Скачивание документов”.

# 2. Чек-лист “Скачивание документов” 

Исходя из опыта взаимодействия с различными сайтами, можем вспомнить, что при скачивании документов с сайта Пользователь может столкнуться с ситуацией, когда файл не скачивается или при переходе по ссылке для скачивания появляется сообщение об ошибке (либо файла нет, либо ссылка нерабочая). Поэтому проверим все ссылки для скачивания файлов на сайте РИВ ГОШ.  

Доступные для скачивания файлы на сайте РИВ ГОШ расположены в следующих разделах:  

* Дисконтная программа (правила дисконтной программы и правила программы “День рождения в РИВ ГОШ”) 

* Подарочные карты (правила обращения и применения разных видов подарочных карт) 

* Акции (правила акций) 

Это и будут наши тест-сьюты. Проверим активность каждой ссылки, а также скачивание и открытие файлов на стороне пользователя. Можно осуществить проверки в разных операционных системах, а также в разных браузерах.

Формулируем проверки в чек-листе обобщенно, поскольку чек-лист не предусматривает излишнюю детализацию. Кроме того, благодаря общим формулировкам мы упрощаем поддерживаемость документа на случай изменений в процессах скачивания файлов на сайте РИВ ГОШ.

В чек-листе “Скачивание документов” также все проверки пройдены успешно. 

# 3. Чек-лист для формы "Регистрация" 

### Что мы знаем о веб-формах или просто формах? 

Формы используются для взаимодействия с пользователями и получения от них определенной информации. Чаще всего, данные, полученные из форм, направляются в базы данных для последующего использования системой. В формах бывают обязательные и необязательные поля для заполнения. Обязательные поля, как правило, отмечены “*” (звездочкой или от англ. asterisk “астериском”). В полях могут присутствовать “плейсхолдеры” (от англ. placeholders) - подсказки, чтобы облегчить пользователю ввод данных. Иногда значения полей выставлены по умолчанию (по дефолту). В случае, если введены невалидные данные, появляется уведомление об ошибке.  

Исходя из отмеченных нами особенностей форм, мы уже понимаем, что нужно будет проверить в формах: 

* Правильность работы валидации в каждом поле формы. 

* Значения полей, используемые по умолчанию. 

* Сообщения об ошибке при вводе невалидных данных или появление подсказки; 

* Обязательные и необязательные к заполнению поля. 

Для проверки ввода допустимых символов применяют следующие тесты: 

* Буквы (на разных раскладках), цифры, специальные символы 

* Текст с пробелом: в начале строки, в середине и в конце 

* Можно вставить в поле скопированный текст 

* Перенос строки внутри поля через Enter

При тестировании важно учесть, что некоторые поля могут оставаться пустыми, а некоторые обязательны для заполнения. Например, логин при регистрации или номер телефона при заказе товара. Такие поля всегда отмечены астерисками (звездочками). Без указания в них информации невозможно отправить форму для обработки. Тестировщик должен проверить: если поле необязательно для заполнения, то как поведет себя система, когда поле не заполнено - действительно ли система считает поле необязательным и допускает пользователя к дальнейшим действиям. Если поле обязательно, то появляется ли соответствующее сообщение об ошибке, когда поле не заполнено. Можно сделать общую проверку сразу для всех полей: не заполнив веб-форму, нажать на кнопку «Продолжить» или «Отправить».

Негативных сценариев в тестировании обычно больше, чем позитивных. Время на тестирование всегда ограничено, да и протестировать все вероятные негативные сценарии просто невозможно. В этом случае можно ориентироваться на своего «целевого» пользователя, для которого создается веб-форма, а также на здравый смысл. Исходя из этого тестировщик выбирает наиболее вероятные негативные сценарии.

Негативные сценарии, которые можно применить для тестирования полей в зависимости от требований и целевой аудитории: 
* Количество символов меньше минимального 

* Количество символов больше максимального 

* Символы, ввод которых требованиями не предусмотрен 

* Текст с пробелом: в начале строки, в середине и в конце 

* Только пробел 

* Символы не ASCII (например, эмоджи) 

При тестировании текстовых полей могут встретиться следующие ошибки: 

* Обязательные поля можно оставить пустыми 

* Отсутствие сообщения об ошибке, если пользователь вводит некорректные данные 

* Запрет ввода дефиса — пользователи с двойным именем или фамилией не могут заполнить данные о себе 

* Ограничение по количеству символов — может не поместиться полностью имя, фамилия, адрес 

* Минимальное количество символов в поле 3 символа — пользователи с фамилиями из двух букв не смогут подать заявку 

* Отсутствие ограничения на количество символов — можно ввести очень большой текст и нарушить работу системы. 

В форме регистрации на сайте РИВ ГОШ на данный момент присутствует возможность создать аккаунт по email или по телефону. При открытии страницы регистрации по умолчанию открывается вкладка email. 

Создадим проверки для двух блоков: “email” и “телефон” (см. файл с соответствующим чек-листом). Необходимо отразить в проверках каждое действие пользователя для успешной регистрации, а также добавить негативных проверок. Обращаем внимание, что негативные сценарии - это проверка того, что система реагирует правильно на невалидные значения или некорректные действия пользователя (например, отображает сообщение об ошибке). В нашем случае, например, негативной проверкой будет “При вводе невалидных данных в поле ввода email появляется сообщение "Некорректный email”.

Возможно, у вас появится вопрос: “Для чего мы включили в чек-лист проверку ‘Получение кода возможно только при соблюдении паттерна your@mail.ru’?”. Такой шаблон (паттерн) не является обязательным, однако, его наличие говорит о “соблюдении правил хорошего тона” по отношению к пользователю, чтобы он мог сразу заметить опечатку, и чтобы не перегружать базу данных некорректными значениями. Представим себе, что мы допустили опечатку и не поставили точку перед доменом почты. Нажимаем на кнопку “Получить код” и ожидаем пару минут код. Он не приходит. Нажимаем на “Отправить код повторно”. Кода нет. Проверяем папку “Спам” - тоже нет. Снова запрашиваем код. Хорошо, если мы сразу подумаем проверить, правильно ли написана почта. Все гениальное просто, при этом не всегда гениальная мысль приходит к нам так быстро, как бы хотелось. Казалось бы, обычная и вполне поправимая ситуация, вместе с тем негативный опыт использования системы у пользователя останется.  

В ходе проверки *Под полем ввода отображается ошибка "Некорректный email"* мы увидели, что в форме Регистрации одновременно используются два варианта написания одного слова: в плейсхолдере используется "email", в сообщении об ошибке - "e-mail". Согласно современным тенденциям в грамматике, предпочтение отдается написанию без дефиса - email, которое мы и будем считать за правильное. Данная ситуация является багом с серьезностью "Low". Заведен баг-репорт № 1 в соответветствующем листе нашего документа. О принципах создания баг-репорта мы подробно говорили в параграфе 2.5. 

Стоит упомянуть, что в ходе тестирования было также замечено: в поле email нет явного ограничения на максимальное количество введенных символов. При этом, если после точки указано более 64 символов, то появляется сообщение красного цвета "Некорректный email". Пользователь может ввести в поле любое количество символов, однако email не будет считаться валидным. Поэтому в данном случае отсуствие ограничения на максимальное количество символов не является дефектом. 
Для подсчета символов можно использовать любую онлайн-программу подсчета количества символов в тексте.

Как правило, в большинстве проектов используют что-то одно: либо чек-листы, либо тест-кейсы. Мы же создадим небольшой чек-лист и, в дополнение, несколько тест-кейсов, что позволит быстро воспроизвести наиболее вероятные пользовательские сценарии и ускорит тестирование формы регистрации.  

Для тестирования нам понадобятся такие тестовые данные как телефон и email, которые еще не зарегистрированы на сайте РИВ ГОШ. Создадим позитивные и негативные тест-кейсы:  

1. Успешная регистрация по email 

2. Успешная регистрация по телефону 

3. Ввод уже зарегистрированного email 

4. Ввод уже зарегистрированного телефона 

5. Придуманный пароль не совпадает с повтором пароля 

Предусловие для каждого тест-кейса: открыта страница регистрации, вкладка email. Поскольку мы не знаем реальных требований, то в качестве ожидаемого результата запишем те ожидания, которые мы надеемся увидеть как пользователь, опираясь на концепцию “интуитивно понятного интерфейса” и логику реализации данной формы регистрации. 

Первые четыре тест-кейса пройдены успешно. 

Тест-кейс "Придуманный пароль не совпадает с повтором пароля" не прошел проверку, так как отсутствует сообщение о несовпадении пароля (заведен баг № 2, серьезность: Minor). Также нет подсказок о параметрах валидного пароля, только нижняя линия поля ввода становится красной (заведен баг № 3, серьезность: Minor). 

На этом завешаем проверку формы регистрации и переходим к следующему чек-листу.

# 4. Чек-лист для формы "Активировать карту"

Форма “Активировать карту” расположена в разделе “Дисконтная программа”. 

### С какой целью мы проверяем раздел “Активировать карту”

Стоит отметить, что Интернет-магазин РИВ ГОШ появился гораздо позже, чем розничная сеть. В компании РИВ ГОШ действует программа лояльности, согласно которой клиентам выдаются пластиковые дисконтные карты. Форма “Активация карты” предназначена для тех клиентов, которые получили в розничном магазине новую незарегистрированную карту. Благодаря данному разделу происходит не только регистрация карты, но и автоматическое создание личного кабинета на сайте Интернет-магазина РИВ ГОШ. При этом пользователи, у которых карта уже была зарегистрирована ранее, воспользоваться данным разделом не смогут - у них есть возможность создать профиль в разделе “Регистрация” и добавить карту самостоятельно. Согласитесь, логика довольно сложная, и именно здесь высока вероятность обнаружения дефектов. Поэтому мы проверим, как работает поле ввода номера карты и блок создания личного кабинета в данной форме.  

Поскольку у нас нет реальной не активированной Золотой карты РИВ ГОШ, мы попробуем проверить валидацию поля ввода карты исходя из данных, размещенных на сайте.  

Согласно подсказке “Как найти номер карты?”, расположенной под полем ввода карты, номер Золотой карты РИВ ГОШ содержит 5-7 цифр, номер Стандартной карты - 13 цифр. Если считать данную информацию актуальной, то можем предположить, что:  

* Поле принимает на ввод только цифры 

* Максимальное количество цифр - 13 

* Минимальное количество цифр - 5 

При вводе валидного номера карты должна открываться форма для заполнения профиля. 

Введя случайную комбинацию цифр и проверив карту, нам крупно повезло: действительно, открылась форма заполнения профиля. При это важно понимать, что это случайная комбинация - номер реальной не активированной карты, которая может быть на руках у клиента РИВ ГОШ, поэтому ни в коем случае ее не активируем. Благодаря этому номеру мы можем проверить валидацию полей и в целом реализацию формы активации, что вполне достаточно для тестирования данной функциональности в текущих условиях.  

В результате прохождения проверок обнаружено 3 дефекта: 
* В поле ввода номера карты можно ввести больше 13 цифр. Заведен баг № 4.
* Поле принимает на ввода не только цифры, а любые символы. С помощью клавиши F12 открываем в браузере инструмент разработчика DevTools и устанавливаем режим выбора элемента на странице. Выбираем поле ввода номера карты и в коде HTML проверяем установленный тип данных. Убеждаемся, что установлен тип данных "text". Заведен баг № 5.
* При клике на ссылку согласия с обработкой персональных данных открывается модальное окно не с текстом политики, а правилами Интернет-магазина. Заведен баг № 6. 

Поскольку у нас нет неактивированной карты для проведения более эффективного тестирования, то проверку "После подтверждения активации создается личный кабинет с картой, которая была указана на первом этапе активации" пропускаем (статус "skipped"). 

Теперь проверим форму "Вход в личный кабинет".

# 5. Чек-лист для формы "Вход в личный кабинет"

# 6. Чек-лист “Поиск товара или бренда” 

# 7. Чек-лист “Сортировка и фильтрация” 

# 8. Чек-лист "Добавление товара в корзину" 

# 9. Чек-лист "Оформление заказа" 

# 10. Чек-лист “Форма оплаты банковской картой” 

# 11. Чек-лист "Отмена заказа" 

# 12. Чек-лист "Форма обратной связи" 

# 13. Чек-лист “Файлы cookie” 